define([],function(){var a=function(){var b=false;var d=["serif","sans-serif","monospace","cursive","fantasy"];var c=null;function f(){if(b){return}b=true;var g=document.body;var h=document.body.firstChild;var i=document.createElement("div");i.id="fontdetectHelper";c=document.createElement("span");c.innerText="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";i.appendChild(c);g.insertBefore(i,h);i.style.position="absolute";i.style.visibility="hidden";i.style.top="-200px";i.style.left="-100000px";i.style.width="100000px";i.style.height="200px";i.style.fontSize="100px"}function e(g,h){if(g instanceof Element){return window.getComputedStyle(g).getPropertyValue(h)}else{if(window.jQuery){return $(g).css(h)}else{return""}}}return{onFontLoaded:function(m,h,l,k){if(!m){return}var j=(k&&k.msInterval)?k.msInterval:100;var n=(k&&k.msTimeout)?k.msTimeout:2000;if(!h&&!l){return}if(!b){f()}if(this.isFontLoaded(m)){if(h){h(m)}return}var g=this;var o=new Date().getTime();var i=setInterval(function(){if(g.isFontLoaded(m)){clearInterval(i);h(m);return}else{var p=new Date().getTime();if((p-o)>n){clearInterval(i);if(l){l(m)}}}},j)},isFontLoaded:function(g){var j=0;var i=0;if(!b){f()}for(var h=0;h<d.length;++h){c.style.fontFamily='"'+g+'",'+d[h];j=c.offsetWidth;if(h>0&&j!=i){return false}i=j}return true},whichFont:function(h){var i=e(h,"font-family");var k=i.split(",");var j=k.shift();while(j){j=j.replace(/^\s*['"]?\s*([^'"]*)\s*['"]?\s*$/,"$1");for(var g=0;g<d.length;g++){if(j==d[g]){return j}}if(this.isFontLoaded(j)){return j}j=k.shift()}return null}}}();return Fontdetect});